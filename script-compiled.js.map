{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["'use strict';\n\n// prettier-ignore\n\nconst form = document.querySelector('.form');\nconst containerWorkouts = document.querySelector('.workouts');\nconst inputType = document.querySelector('.form__input--type');\nconst inputDistance = document.querySelector('.form__input--distance');\nconst inputDuration = document.querySelector('.form__input--duration');\nconst inputCadence = document.querySelector('.form__input--cadence');\nconst inputElevation = document.querySelector('.form__input--elevation');\n\nclass Workout {\n  date = new Date();\n  id = Math.trunc(this.date.getTime() * Math.random()).toString();\n  clicks = 0;\n  constructor(coords, distance, duration) {\n    this.coords = coords; //[lat,lng]\n    this.distance = distance; //km\n    this.duration = duration; // min\n  }\n\n  _setDescription() {\n    const months = [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ];\n    this.description = `${this.type[0].toUpperCase()}${this.type.slice(1)} on ${\n      months[this.date.getMonth()]\n    } ${this.date.getDate()}`;\n  }\n  click() {\n    this.clicks++;\n  }\n}\n\nclass Running extends Workout {\n  type = 'running';\n\n  constructor(coords, distance, duration, cadence) {\n    super(coords, distance, duration);\n    this.cadence = cadence;\n    this.calcPace();\n    this._setDescription();\n  }\n  calcPace() {\n    this.pace = this.duration / this.distance;\n    return this.pace;\n  }\n}\n\nclass Cycling extends Workout {\n  type = 'cycling';\n  constructor(coords, distance, duration, elevation) {\n    super(coords, distance, duration);\n    this.elevation = elevation;\n    this.calcSpeed();\n    this._setDescription();\n  }\n  calcSpeed() {\n    this.speed = this.distance / (this.duration / 60);\n    return this.speed;\n  }\n}\n\nclass App {\n  #map;\n  #mapEvent;\n  #workouts = [];\n  #markers = [];\n  #zoomLevel = 13;\n  #defaultPosition = { coords: { latitude: 59.938752, longitude: 30.315081 } };\n  #positionMarker;\n\n  constructor() {\n    this._getPosition();\n\n    // attach event handlers\n    form.addEventListener('submit', this._newWorkout.bind(this));\n    inputType.addEventListener('change', this._toggleElevationField);\n    containerWorkouts.addEventListener('click', this._moveToPopup.bind(this));\n  }\n\n  _getPosition() {\n    navigator.geolocation.getCurrentPosition(\n      position => {\n        const { latitude } = position.coords;\n        const { longitude } = position.coords;\n        const coords = [latitude, longitude];\n        this.#map.flyTo(coords);\n        this.#positionMarker.setLatLng(coords);\n      },\n      () => {\n        alert('Your position is unknown, so map is set to defailt location');\n      }\n    );\n    this._loadMap(this.#defaultPosition);\n  }\n\n  _loadMap(position) {\n    //   get current position\n    const { latitude } = position.coords;\n    const { longitude } = position.coords;\n    const coords = [latitude, longitude];\n    this.#markers.push(coords);\n\n    // load map\n    this.#map = L.map('map').setView(coords, this.#zoomLevel);\n    L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(this.#map);\n\n    // add marker for current position\n    this.#positionMarker = L.marker(coords);\n    this.#positionMarker.addTo(this.#map).bindPopup('Here you are').openPopup();\n\n    // add markers from LS\n    this._getLocalStorage();\n\n    // show workout form\n    this.#map.on('click', this._showForm.bind(this));\n  }\n\n  _zoomToDisplayMarkers() {\n    const group = L.latLngBounds(this.#markers);\n    this.#map.fitBounds(group, true);\n  }\n\n  _showForm(mapE) {\n    form.classList.remove('hidden');\n    inputDistance.focus();\n    this.#mapEvent = mapE;\n  }\n\n  _hideForm() {\n    form.querySelectorAll('input').forEach(inpt => (inpt.value = ''));\n    form.classList.add('hidden');\n  }\n\n  _toggleElevationField() {\n    inputElevation.closest('.form__row').classList.toggle('form__row--hidden');\n    inputCadence.closest('.form__row').classList.toggle('form__row--hidden');\n  }\n\n  _newWorkout(e) {\n    e.preventDefault();\n    const { lat, lng } = this.#mapEvent.latlng;\n    let workout;\n    // get data from the form\n    const type = inputType.value;\n    const distance = Number.parseInt(inputDistance.value);\n    const duration = Number.parseInt(inputDuration.value);\n\n    // data validation helpers\n    const validInputs = (...inputs) =>\n      inputs.every(inp => Number.isFinite(inp));\n    const positiveInputs = (...inputs) => inputs.every(inp => inp > 0);\n\n    // workout type check\n    if (type === 'running') {\n      const cadence = Number.parseInt(inputCadence.value);\n      if (\n        !validInputs(distance, duration, cadence) ||\n        !positiveInputs(distance, duration, cadence)\n      )\n        return alert('Input value should be a number');\n      workout = new Running([lat, lng], distance, duration, cadence);\n      this.#workouts.push(workout);\n    }\n\n    if (type === 'cycling') {\n      const elevation = Number.parseInt(inputElevation.value);\n      if (\n        !validInputs(distance, duration, elevation) ||\n        !validInputs(distance, duration)\n      )\n        return alert('Input value should be a number');\n      workout = new Cycling([lat, lng], distance, duration, elevation);\n      this.#workouts.push(workout);\n    }\n\n    // display mark\n    this._renderWorkoutMarker(workout);\n\n    // render workout\n    this._renderWorkout(workout);\n\n    //clear inputs and hide the form\n    this._hideForm();\n\n    //update local storage\n    this._setLocalStorage();\n  }\n\n  _renderWorkoutMarker(wrkt) {\n    L.marker(wrkt.coords)\n      .addTo(this.#map)\n      .bindPopup(\n        L.popup({\n          maxWidth: 250,\n          minWidth: 100,\n          autoClose: false,\n          closeOnClick: false,\n          className: `${wrkt.type}-popup`,\n        })\n      )\n      .setPopupContent(\n        `${wrkt.type === 'running' ? 'üèÉ‚Äç‚ôÇÔ∏è' : 'üö¥‚Äç‚ôÄÔ∏è'} ${wrkt.description}`\n      )\n      .openPopup();\n    this.#markers.push(wrkt.coords);\n  }\n\n  _renderWorkout(workout) {\n    let html = `\n      <li class=\"workout workout--${workout.type}\" data-id=\"${workout.id}\">\n          <h2 class=\"workout__title\">${workout.description}</h2>\n          <div class=\"workout__details\">\n            <span class=\"workout__icon\">${\n              workout.type === 'running' ? 'üèÉ‚Äç‚ôÇÔ∏è' : 'üö¥‚Äç‚ôÄÔ∏è'\n            }\n            </span>\n            <span class=\"workout__value\">${workout.distance}</span>\n            <span class=\"workout__unit\">km</span>\n          </div>\n          <div class=\"workout__details\">\n            <span class=\"workout__icon\">‚è±</span>\n            <span class=\"workout__value\">${workout.duration}</span>\n            <span class=\"workout__unit\">min</span>\n          </div>\n          `;\n    if (workout.type === 'running') {\n      html += `\n      <div class=\"workout__details\">\n      <span class=\"workout__icon\">‚ö°Ô∏è</span>\n      <span class=\"workout__value\">${workout.pace.toFixed(1)}</span>\n      <span class=\"workout__unit\">min/km</span>\n    </div>\n    <div class=\"workout__details\">\n      <span class=\"workout__icon\">ü¶∂üèº</span>\n      <span class=\"workout__value\">${workout.cadence}</span>\n      <span class=\"workout__unit\">spm</span>\n    </div>\n  </li>\n            `;\n    }\n    if (workout.type === 'cycling') {\n      html += `\n      <div class=\"workout__details\">\n      <span class=\"workout__icon\">‚ö°Ô∏è</span>\n      <span class=\"workout__value\">${workout.speed.toFixed(1)}</span>\n      <span class=\"workout__unit\">km/h</span>\n    </div>\n    <div class=\"workout__details\">\n      <span class=\"workout__icon\">‚õ∞</span>\n      <span class=\"workout__value\">${workout.elevation}</span>\n      <span class=\"workout__unit\">m</span>\n    </div>\n  </li>\n`;\n    }\n    form.insertAdjacentHTML('afterend', html);\n  }\n\n  _moveToPopup(e) {\n    const woEl = e.target.closest('.workout');\n    if (!woEl) return;\n    const workout = this.#workouts.find(w => w.id === woEl.dataset.id);\n    this.#map.setView(workout.coords, this.#zoomLevel, {\n      animate: true,\n      pan: {\n        duration: 1,\n      },\n    });\n  }\n\n  _setLocalStorage() {\n    localStorage.setItem('workouts', JSON.stringify(this.#workouts));\n  }\n\n  _getLocalStorage() {\n    const lsData = JSON.parse(localStorage.getItem('workouts'));\n    if (!lsData) return;\n    this.#workouts = lsData;\n    this.#workouts.forEach(w => {\n      this._renderWorkout(w);\n      this._renderWorkoutMarker(w);\n      this._zoomToDisplayMarkers();\n    });\n  }\n\n  reset() {\n    localStorage.removeItem('workouts');\n    location.reload();\n  }\n}\n\nconst app = new App();\n"]}